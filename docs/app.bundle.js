!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i.p,i.p,i.p;const r=document.createElement("canvas"),n=r.getContext("2d");function a(e){const t=new Image;return t.src=e,t}document.getElementById("app").append(r);var o=i.p+"gfx/woman.png",s=i.p+"gfx/sprites.png";let c={time:0,character:{image:a(o),x:0,y:0,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],attackFrames:{down:[0,3,3,1],up:[0,3,3,2],left:[0,3,3,2],right:[0,3,3,2]},frameRate:5,direction:0,directionString:"up",animationTime:0,name:"character",imageRows:{down:2,up:0,left:1,right:3},isAttacking:!1},grimReaper:{image:a(s),x:30,y:60,height:32,width:32,scale:1,currentFrame:0,walkFrames:[3,4,3,5],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"grimReaper",imageRows:{down:2,up:0,left:1,right:3},isAttacking:!1},turtle:{image:a(s),x:120,y:210,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"turtle",imageRows:{down:6,up:4,left:5,right:7},isAttacking:!1},snail:{image:a(s),x:60,y:280,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"snail",imageRows:{down:10,up:8,left:9,right:11},isAttacking:!1},pressedKeys:{}};function d(){return c}function g(e){if(!e.image)return;const t=e.frameRate;let i,r=Math.floor(d().time/1e3*t);e.isAttacking&&e.attackFrames?(r%=e.attackFrames[e.directionString].length,i=e.attackFrames[e.directionString][r]):(r%=e.walkFrames.length,i=e.walkFrames[r]),n.drawImage(e.image,i*e.width,e.direction*e.height,e.width,e.height,e.x,e.y,e.width*e.scale,e.height*e.scale)}function l(e,t){let i=[];"turtle"===e.name&&(i=["down","down","left","left","up","up","right","right","up","up","right","right","down","down","left","left"]),"snail"===e.name&&(i=["left","left","left","right","right","right"]),"grimReaper"===e.name&&(i=["up","down"]);const n=e.frameRate/2;let a=i[Math.floor(d().time/1e3*n)%i.length];"up"===a?(e.y-=t,e.direction=e.imageRows.up):"down"===a&&(e.y+=t,e.direction=e.imageRows.down),"left"===a?(e.x-=t,e.direction=e.imageRows.left):"right"===a&&(e.x+=t,e.direction=e.imageRows.right);let o=r.width-2*e.width;e.x>o?e.x=o:e.x<0&&(e.x=0);let s=r.height-2*e.height;e.y>s?e.y=s:e.y<0&&(e.y=0)}r.width=250,r.height=1334/3;let m=0;const u=a("https://opengameart.org/sites/default/files/preview_241.png");function p(e){!function(e,t){d().pressedKeys.w||d().pressedKeys.ArrowUp?(e.y-=t,e.direction=e.imageRows.up,e.directionString="up"):(d().pressedKeys.s||d().pressedKeys.ArrowDown)&&(e.y+=t,e.direction=e.imageRows.down,e.directionString="down"),d().pressedKeys.a||d().pressedKeys.ArrowLeft?(e.x-=t,e.direction=e.imageRows.left,e.directionString="left"):(d().pressedKeys.d||d().pressedKeys.ArrowRight)&&(e.x+=t,e.direction=e.imageRows.right,e.directionString="right"),d().pressedKeys[" "]||d().pressedKeys.c?e.isAttacking=!0:e.isAttacking=!1;let i=r.width-e.width*e.scale;e.x>i?e.x=i:e.x<0&&(e.x=0);let n=r.height-e.height*e.scale;e.y>n?e.y=n:e.y<0&&(e.y=0)}(c.character,1),l(c.snail,1),l(c.grimReaper,1),l(c.turtle,1),c.time+=e}window.addEventListener("keydown",(function(e){c.pressedKeys[e.key]=!0}),!1),window.addEventListener("keyup",(function(e){c.pressedKeys[e.key]=!1}),!1),window.requestAnimationFrame((function e(t){window.requestAnimationFrame(e),p(t-m),n.clearRect(0,0,r.width,r.height),n.imageSmoothingEnabled=!1,n.drawImage(u,0,0,750,1334,0,0,750,1334),g(c.turtle),g(c.grimReaper),g(c.snail),g(c.character),m=t}))}]);