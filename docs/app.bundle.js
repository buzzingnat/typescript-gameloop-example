!function(e){function t(t){for(var n,a,c=t[0],s=t[1],d=t[2],l=0,u=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(g&&g(t);u.length;)u.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,c=1;c<i.length;c++){var s=i[c];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},r={0:0},o=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var g=s;o.push([4,1]),i()}({4:function(e,t,i){"use strict";i.r(t);i(1),i.p,i.p;var n=i(0),r=i.n(n);const o=document.createElement("canvas"),a=o.getContext("2d");function c(e){const t=new Image;return t.src=e,t}document.getElementById("app").append(o);var s=i.p+"gfx/woman.png",d=i.p+"gfx/sprites.png";let g={time:0,character:{image:c(s),x:0,y:0,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],attackFrames:{down:[0,3,3,1],up:[0,3,3,2],left:[0,3,3,2],right:[0,3,3,2]},frameRate:5,direction:0,directionString:"up",animationTime:0,name:"character",imageRows:{down:2,up:0,left:1,right:3},isAttacking:!1},grimReaper:{image:c(d),x:30,y:60,height:32,width:32,scale:1,currentFrame:0,walkFrames:[3,4,3,5],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"grimReaper",imageRows:{down:2,up:0,left:1,right:3},isAttacking:!1},turtle:{image:c(d),x:120,y:210,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"turtle",imageRows:{down:6,up:4,left:5,right:7},isAttacking:!1,path:["down","down","left","left","up","up","right","right","up","up","right","right","down","down","left","left"]},snail:{image:c(d),x:60,y:280,height:32,width:32,scale:1,currentFrame:0,walkFrames:[0,1,0,2],frameRate:5,direction:0,directionString:"up",animationTime:0,name:"snail",imageRows:{down:10,up:8,left:9,right:11},isAttacking:!1},actors:[],pressedKeys:{}};function l(){return g}function u(e){if(!e.image)return;const t=e.frameRate;let i,n=Math.floor(l().time/1e3*t);e.isAttacking&&e.attackFrames?(n%=e.attackFrames[e.directionString].length,i=e.attackFrames[e.directionString][n]):(n%=e.walkFrames.length,i=e.walkFrames[n]),a.drawImage(e.image,i*e.width,e.direction*e.height,e.width,e.height,e.x,e.y,e.width*e.scale,e.height*e.scale)}function h(e,t){e.y-=t,e.direction=e.imageRows.up,e.directionString="up"}function f(e,t){e.y+=t,e.direction=e.imageRows.down,e.directionString="down"}function p(e,t){e.x-=t,e.direction=e.imageRows.left,e.directionString="left"}function m(e,t){e.x+=t,e.direction=e.imageRows.right,e.directionString="right"}function w(e,t){let i;for(i of t){if(i===e)return;if(i.x+i.width<e.x);else if(i.x>e.x+e.width);else if(i.y+i.height<e.y);else if(!(i.y>e.y+e.height))return i}}function y(e,t){const i=l(),n=e.frameRate/2;let r=Math.floor(i.time/1e3*n),a=e.path[r%e.path.length];if("up"===a?(e.y-=t,e.direction=e.imageRows.up,e.directionString="up"):"down"===a&&(e.y+=t,e.direction=e.imageRows.down,e.directionString="down"),"left"===a?(e.x-=t,e.direction=e.imageRows.left,e.directionString="left"):"right"===a&&(e.x+=t,e.direction=e.imageRows.right,e.directionString="left"),w(e,i.actors)){const i=t+e.height/2,n=t+e.width/2;"up"===e.directionString?f(e,i):"down"===e.directionString?h(e,i):"left"===e.directionString?m(e,n):p(e,n)}let c=o.width-e.width*e.scale;e.x>c?e.x=c:e.x<0&&(e.x=0);let s=o.height-e.height*e.scale;e.y>s?e.y=s:e.y<0&&(e.y=0)}o.width=250,o.height=1334/3;let x=0;const S=c("https://opengameart.org/sites/default/files/preview_241.png");function k(){let e=[];const t=["up","down","left","right"];for(let i=0;i<r.a.random(4,12);i++)e.push(t[r.a.random(t.length-1)]);return e}function R(e){const t=l();for(const e of t.actors)y(e,1);!function(e,t){const i=l();if(i.pressedKeys.w||i.pressedKeys.ArrowUp?h(e,t):(i.pressedKeys.s||i.pressedKeys.ArrowDown)&&f(e,t),i.pressedKeys.a||i.pressedKeys.ArrowLeft?p(e,t):(i.pressedKeys.d||i.pressedKeys.ArrowRight)&&m(e,t),i.pressedKeys[" "]||i.pressedKeys.c?e.isAttacking=!0:e.isAttacking=!1,w(e,i.actors)){const i=t+e.height/2,n=t+e.width/2;"up"===e.directionString?f(e,i):"down"===e.directionString?h(e,i):"left"===e.directionString?m(e,n):p(e,n)}let n=o.width-e.width*e.scale;e.x>n?e.x=n:e.x<0&&(e.x=0);let r=o.height-e.height*e.scale;e.y>r?e.y=r:e.y<0&&(e.y=0)}(t.character,1),t.time+=e}window.addEventListener("keydown",(function(e){l().pressedKeys[e.key]=!0}),!1),window.addEventListener("keyup",(function(e){l().pressedKeys[e.key]=!1}),!1),window.addEventListener("load",e=>{!function(e,t){const i=[e.grimReaper,e.snail,e.turtle];for(let n=0;n<t;n++){let t=r.a.cloneDeep(i[r.a.random(i.length-1)]);t.x=r.a.random(o.width),t.y=r.a.random(o.height),t.name=t.name+"-"+e.actors.length,t.path=k(),e.actors.push(t)}}(l(),4)}),window.requestAnimationFrame((function e(t){window.requestAnimationFrame(e),R(t-x),function(){const e=l();a.clearRect(0,0,o.width,o.height),a.imageSmoothingEnabled=!1,a.drawImage(S,0,0,750,1334,0,0,750,1334);for(const t of e.actors)u(t);u(e.character)}(),x=t}))}});